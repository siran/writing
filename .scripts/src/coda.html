<meta charset="utf-8">
<style>
    /* modest page margin */
    body {
        white-space: pre-wrap;
        font-family: monospace;
        font-size: 18px;
        line-height: 1.5;
    }

    /* markdown-style pages (directory indexes, header/footer text) */
    main>pre,
    main.paper~* {
        white-space: pre-wrap;
        font-family: monospace;
        font-size: 18px;
        line-height: 1.5;
    }

    /* embedded HTML paper: normal HTML look */
    main.paper {
        white-space: normal;
        font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
        line-height: 1.6;
        max-width: 72ch;
        margin: 1.25rem auto;
    }

    main.paper * {
        white-space: normal;
    }
</style>
<script>
    (function () {
        try {
            var html = document.body.innerHTML;
            // Markdown links: allow spaces; trim
            html = html.replace(/\[([^\]]+)\]\(([^)]+)\)/g, function (_m, t, u) {
                return '<a href="' + u.trim() + '">' + t + '</a>';
            });

            // Bare URLs â†’ <a>; don't match inside ](URL)
            html = html.replace(/(^|\s)((https?:\/\/[^\s)]+))/g, '$1<a href="$2">$2</a>');
            document.body.innerHTML = html;
        } catch (e) { }
    })();
</script>
